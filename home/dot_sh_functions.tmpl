# Shell functions sourced by `~/.bashrc` and `~/.zshrc`.

# Sysadmin
# -----------------------------------------------------------------------------

# upup: Keeps all packages up to date.
function upup() {
    if ! [[ "$OSTYPE" =~ ^darwin ]]; then
        SUDO=""
        if [[ $EUID -ne 0]]; then
            $SUDO="sudo "
        fi
        if command -v apt &> /dev/null; then
            echo 'Updating packages with apt...'
            "$SUDO"apt update          # update list of available packages
            "$SUDO"apt full-upgrade    # upgrade the system by removing/installing/upgrading packages
            "$SUDO"apt autoremove      # remove unnecessary/unused packages
            "$SUDO"apt clean
            "$SUDO"apt autoclean
        fi

        if command -v apt-get &> /dev/null; then
            echo 'Updating packages with apt-get...'
            "$SUDO"apt-get update
            "$SUDO"apt-get upgrade
            "$SUDO"apt-get dist-upgrade
        fi
    fi
}
